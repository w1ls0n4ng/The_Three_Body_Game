# The_Three_Body_Game

# 游戏简介

## 游戏背景

这是个参照《三体》科幻小说做出的小游戏，在距离地球4光年的地方存在着一个拥有三个恒星的星系，这三个恒星在相互作用力下，做着无法预测的三体运动，形成毫无规律的混乱世界。在这个世界里，只有恒纪元和乱纪元，两个纪元的划分依据是太阳的升起与落下。在恒纪元，太阳的升起与落下是相对规律的，气候较为温暖，适宜人类的生存。但问题是，恒纪元持续的时间是不确定的，有可能是一天，也可能是一个世纪。而恒纪元之外，就只有乱纪元。乱纪元过于寒冷或过于炎热，根本不适宜人类的生存。所以人类文明只能在较长的、气候温暖的恒纪元里发展。

## 游戏玩法

玩家在游戏中扮演一名预言家，玩家可以对行星做出预测，可以预测第几号文明胜利/失败、文明进入什么阶段（信息/星际/宇宙）等事件。预测准确的玩家会获得一定的积分。
当文明进入一定阶段后玩家可以选择文明的发展方向，例如：发展核科技/先知计划等。不同发展路线有各自的优缺点。

游戏结束的情况有3种：
* 5000年以内不产生文明
* 行星被恒星吞噬
* 发展为宇宙文明


# 功能模块
这个游戏是基于Unity游戏引擎开发的，Unity是一个跨平台可视化的游戏引擎，包含以下系统：渲染引擎、物理引擎、碰撞检测系统、音效引擎、脚本引擎、动画系统、人工智能、网络引擎、场景管理等。Unity提供了丰富且强大的各类功能，使开发者可以将精力集中在游戏逻辑和设计上，从而简单快速的创建游戏。对于我们小组而言，制作这个小游戏的最大挑战在于往Qt嵌入Unity游戏引擎以及基于Unity开发的UI界面，其余的游戏规则及运行操作皆可参照基本的面向对象形式。


## Unity
通过QT编写的界面软件，向Unity发送控制命令，实现Qt对Unity场景的控制。主要是用C++做服务器，Unity做客户端实现TCP网络通信。
[Qt界面软件控制Unity中物体旋转移动（Unity端）_qt unity_一瓶可乐zc的博客-CSDN博客](https://blog.csdn.net/weixin_42521239/article/details/96173965)


## UI界面
主视图：三颗恒星及行星的运动在xy平面上投影。需要根据恒星间距放大或缩小视图
左上视图：三颗恒星及行星的运动在xz平面上的投影
右上视图：三颗恒星及行星的运动在yz平面上的投影
左侧显示框：当前文明发展状态，包括文明序号、文明发展阶段、文明发展状态、领土、致命温度等。各种事件也在此显示
右侧显示框：显示恒星的质量、运动速度及与当前行星的距离
下侧输入框：玩家可以输入对文明的预测，例如玩家可以输入一行“胜利 10”，代表玩家预测10号文明取得胜利
右下显示栏：显示玩家的预测。一轮游戏结束时，若玩家获胜，显示其得分
弹窗：文明诞生或进入新的发展阶段时，玩家可以选择发展路线，不同路线有不同的效果



## 面向对象

### judgeGameState
Function判断游戏输赢


### StellarState
Class用于记录3个恒星处于的位置、速度、质量
#### updatePosition
Function更新恒星的位置


### PlanetState
Class用于记录行星的资料如第几号文明、表面温度、处于哪个文明阶段等等
#### updatePlanetState
Fucntion更新行星位置、温度、处于哪个纪元以及恒纪元持续时间等
#### judgeDisaster
Function判断灾难是否发生
#### judgeExtinction
Function判断文明是否灭亡

