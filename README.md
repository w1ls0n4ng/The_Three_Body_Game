# The_Three_Body_Game

# 游戏简介

## 游戏背景

这是个参照《三体》科幻小说做出的小游戏，在距离地球4光年的地方存在着一个拥有三个恒星的星系，这三个恒星在相互作用力下，做着无法预测的三体运动，形成毫无规律的混乱世界。在这个世界里，只有恒纪元和乱纪元，两个纪元的划分依据是太阳的升起与落下。在恒纪元，太阳的升起与落下是相对规律的，气候较为温暖，适宜人类的生存。但问题是，恒纪元持续的时间是不确定的，有可能是一天，也可能是一个世纪。而恒纪元之外，就只有乱纪元。乱纪元过于寒冷或过于炎热，根本不适宜人类的生存。所以人类文明只能在较长的、气候温暖的恒纪元里发展。

## 游戏玩法

玩家在游戏中扮演一名预言家，玩家可以对行星做出预测，可以预测第几号文明胜利/失败、文明进入什么阶段（信息/星际/宇宙）等事件。预测准确的玩家会获得一定的积分。
当文明进入一定阶段后玩家可以选择文明的发展方向，例如：发展核科技/先知计划等。不同发展路线有各自的优缺点。

游戏结束的情况有3种：
* 5000年以内不产生文明
* 行星被恒星吞噬
* 发展为宇宙文明


## UI界面
主视图：三颗恒星及行星的运动在xy平面上投影。需要根据恒星间距放大或缩小视图
左上视图：三颗恒星及行星的运动在xz平面上的投影
右上视图：三颗恒星及行星的运动在yz平面上的投影
左侧显示框：当前文明发展状态，包括文明序号、文明发展阶段、文明发展状态、领土、致命温度等。各种事件也在此显示
右侧显示框：显示恒星的质量、运动速度及与当前行星的距离
下侧输入框：玩家可以输入对文明的预测，例如玩家可以输入一行“胜利 10”，代表玩家预测10号文明取得胜利
右下显示栏：显示玩家的预测。一轮游戏结束时，若玩家获胜，显示其得分
弹窗：文明诞生或进入新的发展阶段时，玩家可以选择发展路线，不同路线有不同的效果

## 各个文档模块
1.	sun.h
用于模拟恒星的运动，其运动方式满足万有引力定律，每次更新0.025年的时间。
2.	planet.h
用于模拟行星的运动及状态参数，包括是否被恒星捕获、平均温度（同样满足热力学定律），后者将决定目前处于恒纪元还是乱纪元。若行星长时间处于极低的温度状态（被恒星抛离）或者遭遇长期剧烈温度变化，导致连续1000年不产生文明时，行星的自然环境会毁灭，游戏结束。当行星距离太阳过近时会被太阳吞噬，同样会导致游戏以失败状态结束。
3.	civilization.h
用于模拟三体文明，其发展指数将决定其所处的文明时代，且随着进入新的时代后致命温度上下限范围会有所增加。当温度超过/低于致命温度上限/下限时，文明会灭亡。文明灭亡之后，经过一段连续的恒纪元，新的文明又会诞生。文明在越长的连续恒纪元中，发展速度将越快。当文明发展指数到达10万时，文明将取得胜利。
4.	gamestatus.h
用于记录当前的游戏状态，记录当前的文明总数，并判定游戏是否终止。
5.	players.h
用于记录玩家的猜测。当游戏终止时，会依此判定玩家是否取得胜利，若胜利则计算玩家的分数，输出在对话框里ending.ui里。
6.	gamepage.h/ gamepage.cpp
用于控制游戏开始界面按钮的逻辑，并添加背景图片及音效
7.	pausewindow.h/ pausewindow.cpp
用于暂停游戏，并让玩家选择是继续游戏或保存退出游戏
8.	ending.h/ending.cpp
用于输出游戏终止时的信息，及控制按钮的逻辑
9.	gamepage.h/gamepage.cpp
游戏逻辑的主体部分。大致分为以下几个部分：
（1）	初始化游戏界面，初始化所有行星、恒星、文明和设定
（2）	设置每1毫秒更新一次（实测2-3毫秒更一次左右），调用更新的函数，包括UI界面的更新及行星、恒星、文明等类状态的更新
（3）	游戏下方预言框的槽信号
（4）	更新行星与恒星的信息
（5）	更新恒星与行星的位置，显示在三视图（x-y轴，y-z轴，z-x轴）
（6）	保存当前游戏状态
（7）	写入存档继续之前的游戏

